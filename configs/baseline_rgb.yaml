# Baseline RGB-only FAS Configuration
# Multi-Modal Face Anti-Spoofing for Banking/KYC

experiment:
  name: "baseline_rgb"
  seed: 42
  output_dir: "experiments"
  log_dir: "logs"

model:
  # Backbones
  backbone_rgb: "mobilenetv3_large"
  backbone_depth: "mobilenetv3_small"
  backbone_ir: "mobilenetv3_small"
  pretrained: true
  
  # Fusion
  fusion_type: "late"  # "late" or "attention" (Phase 2)
  
  # Head
  embedding_dim: 256
  dropout: 0.2
  use_auxiliary_depth: true
  depth_map_size: 14

data:
  dataset_name: "casia_surf"
  data_root: "data/datasets/casia_surf"
  modalities: ["rgb"]
  img_size: 224
  protocol: 1

  # DataLoader
  batch_size: 32
  num_workers: 4
  pin_memory: true

  # Augmentation
  augmentation:
    horizontal_flip: true
    rotation: 10
    brightness: 0.2
    contrast: 0.2
    saturation: 0.2
    hue: 0.1
    gaussian_noise: 0.02

training:
  epochs: 50

  # Optimizer
  optimizer: "adamw"
  lr: 0.001
  weight_decay: 0.0001

  # Scheduler
  scheduler: "cosine"
  warmup_epochs: 5
  min_lr: 0.00001

  # Loss weights
  bce_weight: 1.0
  depth_weight: 0.5
  contrastive_weight: 0.1
  label_smoothing: 0.1

  # Early stopping
  patience: 10

  # Gradient accumulation (effective batch = batch_size * accumulation_steps)
  gradient_accumulation_steps: 1

hardware:
  device: "cuda"
  mixed_precision: true

evaluation:
  threshold: 0.5
  metrics: ["acer", "apcer", "bpcer", "eer", "auc", "hter"]

logging:
  use_tensorboard: true
  use_wandb: false
  wandb_project: "face-antispoofing"
  log_every: 10

face_detection:
  backend: "mediapipe"
  min_confidence: 0.5
  margin: 0.2
